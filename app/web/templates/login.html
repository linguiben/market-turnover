{% extends "base.html" %}
{% block content %}
<h2>登录</h2>
{% if error %}
  <p style="color:#b91c1c;">{{ error }}</p>
{% endif %}
<form method="post" action="{{ (request.scope.get('root_path') or '') }}/login" style="max-width:420px; display:grid; gap:10px;">
  <input type="hidden" name="next_path" value="{{ next_path }}" />
  <label>
    邮箱
    <input type="email" name="email" value="{{ email }}" required style="width:100%;" />
  </label>
  <label>
    密码
    <input type="password" name="password" required style="width:100%;" />
  </label>
  <button type="submit">登录</button>
</form>
<p class="muted">
  还没有账号？
  <a href="{{ (request.scope.get('root_path') or '') }}/register?next={{ next_path | urlencode }}">去注册</a>
</p>
{% endblock %}
