<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>成交量参考终端</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <style>
        body { background-color: #0b1120; color: #f1f5f9; font-family: 'Inter', sans-serif; }
        .card { background: rgba(15, 23, 42, 0.6); border: 1px solid #1e293b; }
        .stat-up { color: #f43f5e; } 
        .stat-down { color: #10b981; }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-7xl mx-auto">
        <header class="mb-10 flex justify-between items-baseline">
            <h1 class="text-2xl font-bold tracking-tight text-slate-200">成交量参考</h1>
            <div class="text-right text-xs text-slate-500 font-mono leading-tight">
                Last Data Sync<br>2026-02-10 16:00:00
            </div>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-10">
            <div class="card rounded-2xl p-6">
                <div class="flex justify-between items-start mb-4">
                    <div class="text-slate-400 font-medium text-sm">恒生指数 (HSI)</div>
                    <div class="text-right">
                        <div class="text-xl font-bold font-mono stat-up">19,620.30</div>
                        <div class="text-[10px] font-bold stat-up">▲ 1.25%</div>
                    </div>
                </div>
                <div id="hsi-chart" class="w-full h-[350px]"></div>
            </div>

            <div class="card rounded-2xl p-6">
                <div class="flex justify-between items-start mb-4">
                    <div class="text-slate-400 font-medium text-sm">上证指数 (SSE)</div>
                    <div class="text-right">
                        <div class="text-xl font-bold font-mono stat-down">3,250.45</div>
                        <div class="text-[10px] font-bold stat-down">▼ 0.42%</div>
                    </div>
                </div>
                <div id="sse-chart" class="w-full h-[350px]"></div>
            </div>

            <div class="card rounded-2xl p-6">
                <div class="flex justify-between items-start mb-4">
                    <div class="text-slate-400 font-medium text-sm">深证成指 (SZSE)</div>
                    <div class="text-right">
                        <div class="text-xl font-bold font-mono stat-up">10,580.12</div>
                        <div class="text-[10px] font-bold stat-up">▲ 0.88%</div>
                    </div>
                </div>
                <div id="szse-chart" class="w-full h-[350px]"></div>
            </div>
        </div>

        <div class="bg-slate-900/50 rounded-2xl p-8 border-t border-slate-800">
            <h2 class="text-lg font-bold mb-4 flex items-center text-slate-200">
                <span class="w-1 h-5 bg-blue-500 rounded-full mr-3"></span>智能行情分析 (Insights)
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 items-center">
                <p class="md:col-span-2 text-slate-400 leading-relaxed text-base">
                    当前恒生指数全日成交量接近历史峰值的 <span class="text-blue-400 font-bold">70%</span>，显示出极强的底部支撑力度。相比之下，上证指数成交量略低于5日均值，处于短期震荡整理阶段。
                </p>
                <div class="flex gap-8 justify-end">
                    <div class="text-center">
                        <div class="text-2xl font-black text-blue-400">67%</div>
                        <div class="text-[10px] text-slate-500 uppercase">HSI vs MAX</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl font-black text-emerald-400">73%</div>
                        <div class="text-[10px] text-slate-500 uppercase">SSE vs MAX</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function getOption(data) {
            return {
                tooltip: { trigger: 'axis', backgroundColor: '#1e293b', borderColor: '#334155', textStyle: {color: '#fff'} },
                legend: { 
                    data: ['当日', '5日均线', '10日均线'], 
                    bottom: '0', textStyle: { color: '#64748b', fontSize: 10 }
                },
                grid: { top: '40%', left: '5%', right: '5%', bottom: '15%', containLabel: true },
                xAxis: {
                    type: 'category',
                    data: ['半日', '全日'],
                    axisLine: { lineStyle: { color: '#1e293b' } },
                    axisLabel: { color: '#64748b', fontSize: 11 }
                },
                yAxis: { type: 'value', splitLine: { show: false }, axisLabel: { show: false } },
                series: [
                    // 2. 优化仪表盘：只显示最高和当前值
                    {
                        type: 'gauge',
                        center: ['50%', '20%'],
                        radius: '40%',
                        startAngle: 180, endAngle: 0,
                        min: 0, max: data.maxPoints,
                        axisLine: { lineStyle: { width: 4, color: [[1, '#1e293b']] } },
                        progress: { show: true, width: 4, itemStyle: { color: '#3b82f6' } },
                        pointer: { width: 2, length: '60%', itemStyle: { color: '#fbbf24' } },
                        axisTick: { show: false },
                        splitLine: { show: false },
                        axisLabel: { 
                            show: true, distance: -45, color: '#475569', fontSize: 9,
                            formatter: function (value) {
                                if (value === 0) return '';
                                if (value === data.maxPoints) return 'ATH: ' + value;
                                return '';
                            }
                        },
                        detail: { 
                            offsetCenter: [0, '10%'], fontSize: 14, fontWeight: 'bold', 
                            color: '#fff', formatter: '{value}' 
                        },
                        data: [{ value: data.todayPoints }]
                    },
                    // 3. 成交量对比：去除半日最高，仅留全日最高
                    {
                        name: '当日',
                        type: 'bar',
                        barWidth: 15,
                        data: [data.todayVolAM, data.todayVolDay],
                        itemStyle: { color: '#3b82f6', borderRadius: [2, 2, 0, 0] },
                        markLine: {
                            symbol: 'none',
                            data: [
                                { 
                                    yAxis: data.maxVolDay, 
                                    name: '历史最高',
                                    label: { position: 'end', formatter: 'MAX {c}', color: '#ef4444', fontSize: 10 },
                                    lineStyle: { type: 'dashed', color: '#ef4444', width: 1 }
                                }
                            ]
                        }
                    },
                    {
                        name: '5日均线',
                        type: 'bar',
                        barWidth: 15,
                        data: [data.avg5VolAM, data.avg5VolDay],
                        itemStyle: { color: '#334155' }
                    },
                    {
                        name: '10日均线',
                        type: 'bar',
                        barWidth: 15,
                        data: [data.avg10VolAM, data.avg10VolDay],
                        itemStyle: { color: '#1e293b' }
                    }
                ]
            };
        }

        const mockData = [
            {
                id: 'hsi-chart',
                data: { todayPoints: 19620, maxPoints: 22000, todayVolAM: 650, todayVolDay: 1210, avg5VolAM: 600, avg5VolDay: 1100, avg10VolAM: 580, avg10VolDay: 1050, maxVolDay: 1800 }
            },
            {
                id: 'sse-chart',
                data: { todayPoints: 3250, maxPoints: 3700, todayVolAM: 3800, todayVolDay: 7200, avg5VolAM: 4100, avg5VolDay: 7600, avg10VolAM: 4200, avg10VolDay: 7800, maxVolDay: 9800 }
            },
            {
                id: 'szse-chart',
                data: { todayPoints: 10580, maxPoints: 12000, todayVolAM: 4200, todayVolDay: 8500, avg5VolAM: 3900, avg5VolDay: 8100, avg10VolAM: 3800, avg10VolDay: 8000, maxVolDay: 11000 }
            }
        ];

        mockData.forEach(item => {
            const chart = echarts.init(document.getElementById(item.id));
            chart.setOption(getOption(item.data));
            window.addEventListener('resize', () => chart.resize());
        });
    </script>
</body>
</html>